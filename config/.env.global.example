# ==============================================================================
# CRM IMMOBILIARE - GLOBAL CONFIGURATION TEMPLATE
# ==============================================================================
# This file contains all environment variables for all modules
# Use this as a reference for setting up your environment
# ==============================================================================

# ==============================================================================
# SHARED CONFIGURATION (All Modules)
# ==============================================================================

# ------------------------------------------------------------------------------
# DATABASE (Shared by all modules)
# ------------------------------------------------------------------------------
DATABASE_URL_PRISMA="file:./dev.db"                    # For Prisma (backend/frontend)
DATABASE_URL_SQLALCHEMY="sqlite:///../database/prisma/dev.db"  # For Python (ai_tools/scraping)

# ------------------------------------------------------------------------------
# ⚠️ GOOGLE AI API (Shared - RICHIESTO)
# ------------------------------------------------------------------------------
# Ottieni la chiave su: https://aistudio.google.com/app/apikey
# Usata per tutte le funzionalità AI (RAG, Matching, Briefing, Ricerca)
GOOGLE_API_KEY="your_google_api_key_here"
GOOGLE_MODEL="gemini-1.5-pro"

# ------------------------------------------------------------------------------
# ENVIRONMENT
# ------------------------------------------------------------------------------
NODE_ENV="development"
ENVIRONMENT="development"

# ==============================================================================
# FRONTEND UI + BACKEND API (Port 3000 - UNIFIED ARCHITECTURE)
# ==============================================================================
# Frontend and Backend run together on same port (3000)
NEXT_PUBLIC_API_URL="http://localhost:3000"
NEXT_PUBLIC_AI_URL="http://localhost:8000"
NEXT_TELEMETRY_DISABLED=1

# ==============================================================================
# AI TOOLS (Port 8000)
# ==============================================================================
AI_TOOLS_HOST="0.0.0.0"
AI_TOOLS_PORT=8000
# CORS: Allow requests from unified frontend only
CORS_ORIGINS="http://localhost:3000"

# Qdrant Vector Store
QDRANT_MODE="memory"  # 'memory' or 'server'
QDRANT_HOST="localhost"
QDRANT_PORT=6333

# AI Configuration
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=2048
AI_TIMEOUT=60

# RAG Configuration
RAG_TOP_K=5
RAG_CHUNK_SIZE=512
RAG_CHUNK_OVERLAP=50
EMBEDDING_MODEL="models/text-embedding-004"

# Tracing
ENABLE_TRACING=true
SERVICE_NAME="crm-immobiliare-ai"

# ==============================================================================
# SCRAPING MODULE
# ==============================================================================
RATE_LIMIT_RPS=1.0
MAX_RETRIES=3
RETRY_DELAY=5
CACHE_TTL=86400

# ==============================================================================
# LOGGING (All Modules)
# ==============================================================================
LOG_LEVEL="INFO"
LOG_FORMAT="console"  # 'console' or 'json'

# ==============================================================================
# CACHE DIRECTORIES
# ==============================================================================
AI_CACHE_DIR=".cache"
SCRAPING_CACHE_DIR=".cache"

# ==============================================================================
# OPTIONAL FEATURES
# ==============================================================================

# Mapbox API (for advanced maps)
# NEXT_PUBLIC_MAPBOX_API_KEY=""

# Proxy settings (for scraping)
# HTTP_PROXY=""
# HTTPS_PROXY=""

# Portal credentials (for authenticated scraping)
# IMMOBILIARE_IT_USERNAME=""
# IMMOBILIARE_IT_PASSWORD=""
# IDEALISTA_IT_USERNAME=""
# IDEALISTA_IT_PASSWORD=""
# CASA_IT_USERNAME=""
# CASA_IT_PASSWORD=""

# Email notifications (future)
# SMTP_HOST=""
# SMTP_PORT=""
# SMTP_USER=""
# SMTP_PASSWORD=""

# JWT Secret (for authentication - future)
# JWT_SECRET=""
